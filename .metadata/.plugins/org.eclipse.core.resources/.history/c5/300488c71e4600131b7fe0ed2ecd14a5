package ch.fhnw.error404.DerGrosseDalmuti.client;

import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.net.Socket;

import ch.fhnw.error404.DerGrosseDalmuti.shared.*;

public class Client {
	public static void main(String[] args){
		Client client = new Client();
		client.clientSocket();
	}
	
	private void clientSocket(){
		Socket socket = new Socket("127.0.0.1", 404);
		try {
			// create a new file with an ObjectOutputStream
	        FileOutputStream out = new FileOutputStream("obj.tmp");
	        ObjectOutputStream oout = new ObjectOutputStream(out);
	
	        // write something in the file
	        oout.writeObject(s);
	        oout.writeObject(Jonas);
	        oout.flush();
	
	        // create an ObjectInputStream for the file we created before
	        ObjectInputStream ois =
	                new ObjectInputStream(new FileInputStream("obj.tmp"));
	
	        // read and print an object and cast it as string
	        System.out.println("" + (String) ois.readObject());
	
	        // read and print an object and cast it as string
	        Object obj2 = ois.readObject();
	        if(obj2 instanceof Player){
	       	 Player obj3 = (Player)obj2;
	       	 System.out.println(obj3.getName());
	        }
		}
		catch(Exception e){
			System.out.println(e.getStackTrace());
		}
	}
}
